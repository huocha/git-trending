(this["webpackJsonpgit-trending"]=this["webpackJsonpgit-trending"]||[]).push([[0],{18:function(n,e,t){},19:function(n,e,t){},23:function(n,e,t){"use strict";t.r(e);var a,r,c,i,o,s,l,d=t(1),u=t.n(d),b=t(11),p=t.n(b),j=(t(18),t(19),t(2)),f=t(3),g=t(0),x=function(){return Object(g.jsxs)("footer",{className:Object(f.a)(a||(a=Object(j.a)(["\n    label: footer-wrapper;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 20px 0;\n    img {\n      width: 30px;\n      height: 30px;\n      border-radius: 15px;\n      padding-bottom: 8px;\n    }\n    a {\n      text-decoration: none;\n      padding-left: 4px;\n      color: #a38e80;\n    }\n  "]))),children:[Object(g.jsx)("img",{alt:"avatar",src:"https://media0.giphy.com/media/mVJ5xyiYkC3Vm/giphy.gif?cid=790b7611ad2812b1ccf7f99cf2e9764d8ac87928c092140a&rid=giphy.gif"}),Object(g.jsxs)("small",{children:["\xa9 2021 by",Object(g.jsx)("a",{href:"https://j-nguyenn.github.io/git-trending/",children:"JASMINE NG "})]})]})},h=t(8),m=t(10),O=t.n(m),v=t(12),y=t(4),N=t(7),S=t.n(N),C=function(n,e,t,a){var r="q=created:>".concat(n);t&&(r+="+language:".concat(t.toLowerCase())),a&&(r+=a);var c="https://api.github.com/search/repositories?".concat(r,"&sort=stars&order=desc&page=").concat(e);return new Promise((function(n,e){fetch(c).then((function(n){return n.json()})).then((function(e){n(e),w(null===e||void 0===e?void 0:e.items),k(null===e||void 0===e?void 0:e.total_count)})).catch((function(n){e(n)}))}))},k=function(n){localStorage.setItem("totalPages",String(n))},w=function(n){n&&localStorage.setItem("repositories",JSON.stringify(n))},L=u.a.createContext({repoResults:[{}],selectedLanguage:"",currentPage:1,toggleStar:function(n){}}),P=function(n){var e=n.onClearCache,t=n.onShowAll,a=n.onFilterStaredRepo,r=Object(d.useContext)(L).selectedLanguage;return Object(g.jsxs)("div",{className:F(),children:[Object(g.jsxs)("div",{className:"section",children:[Object(g.jsx)("small",{children:"Languages: "}),Object(g.jsxs)("div",{className:"languages-list",children:[Object(g.jsx)("div",{className:"language-item ".concat(!r&&"selected"),onClick:function(){n.onFilterLanguage("")},children:"Any"}),M.map((function(e,t){return Object(g.jsx)("div",{className:"language-item ".concat(r===e?"selected":""," "),onClick:function(){n.onFilterLanguage(e)},children:e},t)}))]})]}),Object(g.jsxs)("div",{className:"section end",children:[Object(g.jsx)("button",{className:"link-btn",onClick:e,children:"Clear cache"}),Object(g.jsx)("button",{className:"styled-btn",onClick:t,children:"Show all repo"}),Object(g.jsxs)("button",{className:"styled-btn star-btn",onClick:a,children:[Object(g.jsx)("i",{className:"fa fa-star"}),"Stared repo"]})]})]})},F=function(){return Object(f.a)(r||(r=Object(j.a)(["\n  label: filter-group;\n  display: flex;\n  padding-top: 12px;\n  flex-direction: column;\n  .languages-list {\n    padding-left: 4px;\n    display: flex;\n    .language-item {\n      padding: 2px 8px;\n      &: hover {\n        cursor: pointer;\n        background: rgba(27, 31, 35, 0.05);\n      }\n    }\n    .selected {\n      background: rgba(27, 31, 35, 0.08);\n    }\n  }\n  .section {\n    padding-top: 5px;\n    display: flex;\n  }\n  .end {\n    justify-content: flex-end;\n  }\n\n  .styled-btn {\n    border: 0;\n    border-radius: 4px;\n    padding: 4px 8px;\n    margin-right: 4px;\n    margin-left: 4px;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .star-btn {\n    background: #388bfd;\n    text-align: center;\n    color: #fff;\n  }\n\n  .link-btn {\n    border: 0;\n    background: transparent;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n"])))},M=["JavaScript","Ruby","HTML","CSS","Typescript","Java"],Y=function(n){var e=Object(d.useContext)(L).currentPage,t=Object(h.a)(Array(10).keys()).map((function(n){return n+1})),a=function(t){return Object(g.jsx)("div",{className:"page-item ".concat(e===t?"selected":""),onClick:function(){n.onPageChanged(t)},children:t},t)};return Object(g.jsx)("div",{className:J(),children:Object(g.jsx)(g.Fragment,{children:t.map(a)})})},J=function(){return Object(f.a)(c||(c=Object(j.a)(["\n  label: pagination-card;\n  display: flex;\n  justify-content: center;\n  padding-bottom: 15px;\n  .selected {\n    background: rgba(27, 31, 35, 0.08);\n  }\n  .page-item {\n    padding: 0 5px;\n    &:hover {\n      cursor: pointer;\n      background: rgba(27, 31, 35, 0.05);\n    }\n  }\n"])))},_=t(13),z=function(n){var e=n.id,t=n.html_url,a=n.description,r=n.stargazers_count,c=n.full_name,i=n.language,o=n.updated_at,s=u.a.useContext(L).toggleStar;return Object(g.jsxs)("div",{className:I(),children:[Object(g.jsxs)("div",{className:"repo-left",children:[Object(g.jsxs)("div",{className:"repo-star",onClick:function(){return s(e)},children:[Object(g.jsx)("div",{className:"repo-star-number",children:r}),Object(g.jsx)("span",{children:r>1?"stars":"star"})]}),Object(g.jsxs)("div",{className:"repo-main",children:[Object(g.jsx)("a",{href:t,children:c}),Object(g.jsx)("div",{className:"repo-description",children:a}),Object(g.jsxs)("small",{children:["Updated at: ",S()(o).format("DD MMM YYYY")]})]})]}),Object(g.jsx)("div",{className:"repo-outro",children:Object(g.jsx)("div",{children:i})})]})},I=function(){return Object(f.a)(i||(i=Object(j.a)(["\n  label: repository-card;\n  display: flex;\n  border-radius: 5px;\n  border: 1px solid rgb(232, 232, 232);\n  padding: 6px;\n  margin: 15px 0;\n  flex: 1;\n  justify-content: space-between;\n  text-align: left;\n  font-size: 13px;\n  .repo-left {\n    display: flex;\n    flex-basis: 90%;\n  }\n  .repo-outro {\n    flex-basis: 10%;\n  }\n  .repo-star {\n    justify-content: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 10%;\n    .repo-star-number {\n      font-size: 22px;\n    }\n    &:hover {\n      cursor: pointer;\n      color: #388bfd;\n    }\n  }\n  .repo-main {\n    padding-left: 8px;\n    max-width: 86%;\n    max-height: 51px;\n    overflow: hidden;\n    .repo-description {\n      word-break: break-all;\n    }\n  }\n"])))},A=function(n){var e=n.items;return Object(g.jsx)("div",{className:D(),children:(null===e||void 0===e?void 0:e.length)?e.map((function(n,e){return Object(g.jsx)(z,Object(_.a)({},n),e)})):Object(g.jsxs)("div",{className:"error-container",children:[Object(g.jsx)("div",{children:Object(g.jsx)("i",{className:"fa fa-frown-o"})}),"Oops! No result found"]})})},D=function(){return Object(f.a)(o||(o=Object(j.a)(["\n  label: repository-list;\n  .error-container {\n    height: 54vh;\n    padding-top: 24px;\n    color: #ea5252;\n  }\n  .fa-frown-o {\n    font-size: 36px;\n  }\n"])))},R=function(n){var e=u.a.useState(""),t=Object(y.a)(e,2),a=t[0],r=t[1];return Object(g.jsx)("div",{className:T(),children:Object(g.jsx)("div",{className:"wrap",children:Object(g.jsxs)("div",{className:"search",children:[Object(g.jsx)("input",{type:"text",className:"search-term",placeholder:"Search ...",onKeyDown:function(e){"Enter"===e.key&&n.onSearch(a)},onChange:function(n){return r(n.target.value)}}),Object(g.jsx)("button",{type:"submit",className:"searchButton",onClick:function(){return n.onSearch(a)},children:Object(g.jsx)("i",{className:"fa fa-search"})})]})})})},T=function(){return Object(f.a)(s||(s=Object(j.a)(["\n  label: search-input;\n\n  .search {\n    width: 100%;\n    display: flex;\n  }\n\n  .search-term {\n    width: 100%;\n    border: 3px solid #388bfd;\n    border-right: none;\n    padding: 5px;\n    height: 20px;\n    border-radius: 5px 0 0 5px;\n    outline: none;\n    &:focus {\n      color: #388bfd;\n    }\n  }\n\n  .searchButton {\n    width: 40px;\n    height: 36px;\n    border: 1px solid #388bfd;\n    background: #388bfd;\n    text-align: center;\n    color: #fff;\n    border-radius: 0 5px 5px 0;\n    cursor: pointer;\n    font-size: 20px;\n  }\n"])))},B=function(){var n=Object(d.useState)([]),e=Object(y.a)(n,2),t=e[0],a=e[1],r=Object(d.useState)(10),c=Object(y.a)(r,2),i=c[0],o=c[1],s=Object(d.useState)(1),l=Object(y.a)(s,2),b=l[0],p=l[1],j=Object(d.useState)(""),f=Object(y.a)(j,2),x=f[0],m=f[1],N=Object(d.useCallback)(function(){var n=Object(v.a)(O.a.mark((function n(e,t,r){var c,i,s,l;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=S()().add(-1,"w").format("YYYY-MM-DD"),n.next=3,C(c,e,t,r);case 3:i=n.sent;try{s=i.items,l=i.total_count,o(Math.min(Math.floor(l/30),10)),a(s)}catch(d){console.warn("error")}case 5:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}(),[]);u.a.useEffect((function(){N(1)}),[]);var k=Object(d.useCallback)((function(n){var e=t.findIndex((function(e){return e.id===n}));-1!==e&&(t[e].rated?(t[e].stargazers_count-=1,t[e].rated=!1):(t[e].stargazers_count+=1,t[e].rated=!0)),a((function(n){return Object(h.a)(n)})),w(t)}),[t]);return Object(g.jsxs)("div",{className:G(),children:[Object(g.jsx)("div",{className:"header",children:Object(g.jsx)("h1",{children:"Git-Trending"})}),Object(g.jsxs)(L.Provider,{value:{repoResults:t,toggleStar:k,selectedLanguage:x,currentPage:b},children:[Object(g.jsx)(R,{onSearch:function(n){N(b,x,n)}}),Object(g.jsx)(P,{onFilterStaredRepo:function(){var n=t.filter((function(n){return n.rated}));a(n)},onFilterLanguage:function(n){m(n),N(b,n)},onShowAll:function(){a(function(){var n,e=null!==(n=localStorage.getItem("repositories"))&&void 0!==n?n:"[]";return JSON.parse(e)}())},onClearCache:function(){localStorage.clear(),N(1)}}),Object(g.jsx)(A,{items:t}),Object(g.jsx)(Y,{totalPages:i,onPageChanged:function(n){p(n),N(n,x)}})]})]})},E=u.a.memo(B),G=function(){return Object(f.a)(l||(l=Object(j.a)(["\n  label: home-page;\n  max-width: 780px;\n  margin: auto;\n"])))};var V=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(E,{}),Object(g.jsx)(x,{})]})},q=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,24)).then((function(e){var t=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),a(n),r(n),c(n),i(n)}))};p.a.render(Object(g.jsx)(u.a.StrictMode,{children:Object(g.jsx)(V,{})}),document.getElementById("root")),q()}},[[23,1,2]]]);
//# sourceMappingURL=main.727c42db.chunk.js.map