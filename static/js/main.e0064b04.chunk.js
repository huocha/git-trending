(this["webpackJsonpgit-trending"]=this["webpackJsonpgit-trending"]||[]).push([[0],{18:function(n,e,t){},19:function(n,e,t){},23:function(n,e,t){"use strict";t.r(e);var r,a,c,i,s,o,l,d=t(1),u=t.n(d),b=t(11),p=t.n(b),j=(t(18),t(19),t(2)),f=t(3),x=t(0),g=function(){return Object(x.jsxs)("footer",{className:Object(f.a)(r||(r=Object(j.a)(["\n    label: footer-wrapper;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 20px 0;\n    img {\n      width: 30px;\n      height: 30px;\n      border-radius: 15px;\n      padding-bottom: 8px;\n    }\n    a {\n      text-decoration: none;\n      padding-left: 4px;\n      color: #a38e80;\n    }\n  "]))),children:[Object(x.jsx)("img",{src:"https://media0.giphy.com/media/mVJ5xyiYkC3Vm/giphy.gif?cid=790b7611ad2812b1ccf7f99cf2e9764d8ac87928c092140a&rid=giphy.gif"}),Object(x.jsxs)("small",{children:["\xa9 2021 by",Object(x.jsx)("a",{href:"https://j-nguyenn.github.io/git-trending/",children:"JASMINE NG "})]})]})},h=t(8),m=t(10),O=t.n(m),v=t(12),y=t(4),N=t(7),S=t.n(N),C=function(n,e,t,r){var a="q=created:>".concat(n);t&&(a+="+language:".concat(t.toLowerCase())),r&&(a+=r);var c="https://api.github.com/search/repositories?".concat(a,"&sort=stars&order=desc&page=").concat(e);return new Promise((function(n,e){fetch(c).then((function(n){return n.json()})).then((function(e){n(e),w(null===e||void 0===e?void 0:e.items),k(null===e||void 0===e?void 0:e.total_count)})).catch((function(n){e(n)}))}))},k=function(n){localStorage.setItem("totalPages",String(n))},w=function(n){n&&localStorage.setItem("repositories",JSON.stringify(n))},F=function(){var n,e=null!==(n=localStorage.getItem("repositories"))&&void 0!==n?n:"[]";return JSON.parse(e)},M=function(n){var e=n.onClearCache,t=n.onShowAll,r=n.onFilterStaredRepo,a=u.a.useState(),c=Object(y.a)(a,2),i=c[0],s=c[1];return Object(x.jsxs)("div",{className:R(),children:[Object(x.jsxs)("div",{className:"section",children:[Object(x.jsx)("small",{children:"Languages: "}),Object(x.jsxs)("div",{className:"languages-list",children:[Object(x.jsx)("div",{className:"language-item ".concat(!i&&"selected"),onClick:function(){n.onFilterLanguage(""),s(void 0)},children:"Any"}),Y.map((function(e,t){return Object(x.jsx)("div",{className:"language-item ".concat(i===e?"selected":""," "),onClick:function(){n.onFilterLanguage(e),s(e)},children:e},t)}))]})]}),Object(x.jsxs)("div",{className:"section end",children:[Object(x.jsx)("button",{className:"link-btn",onClick:e,children:"Clear cache"}),Object(x.jsx)("button",{className:"styled-btn",onClick:t,children:"Show all repo"}),Object(x.jsxs)("button",{className:"styled-btn star-btn",onClick:r,children:[Object(x.jsx)("i",{className:"fa fa-star"}),"Stared repo"]})]})]})},R=function(){return Object(f.a)(a||(a=Object(j.a)(["\n  label: filter-group;\n  display: flex;\n  padding-top: 12px;\n  flex-direction: column;\n  .languages-list {\n    padding-left: 4px;\n    display: flex;\n    .language-item {\n      padding: 2px 8px;\n      &: hover {\n        cursor: pointer;\n        background: rgba(27, 31, 35, 0.05);\n      }\n    }\n    .selected {\n      background: rgba(27, 31, 35, 0.08);\n    }\n  }\n  .section {\n    padding-top: 5px;\n    display: flex;\n  }\n  .end {\n    justify-content: flex-end;\n  }\n\n  .styled-btn {\n    border: 0;\n    border-radius: 4px;\n    padding: 4px 8px;\n    margin-right: 4px;\n    margin-left: 4px;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .star-btn {\n    background: #388bfd;\n    text-align: center;\n    color: #fff;\n  }\n\n  .link-btn {\n    border: 0;\n    background: transparent;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n"])))},Y=["JavaScript","Ruby","HTML","CSS","Typescript","Java"],J=function(n){var e=u.a.useState(1),t=Object(y.a)(e,2),r=t[0],a=t[1],c=Object(h.a)(Array(10).keys()).map((function(n){return n+1})),i=function(e){return Object(x.jsx)("div",{className:"page-item ".concat(r===e?"selected":""),onClick:function(){a(e),n.onPageChanged(e)},children:e},e)};return Object(x.jsx)("div",{className:L(),children:Object(x.jsx)(x.Fragment,{children:c.map(i)})})},L=function(){return Object(f.a)(c||(c=Object(j.a)(["\n  label: pagination-card;\n  display: flex;\n  justify-content: center;\n  padding-bottom: 15px;\n  .selected {\n    background: rgba(27, 31, 35, 0.08);\n  }\n  .page-item {\n    padding: 0 5px;\n    &:hover {\n      cursor: pointer;\n      background: rgba(27, 31, 35, 0.05);\n    }\n  }\n"])))},P=t(13),_=u.a.createContext({repoResults:[{}],toggleStar:function(n){}}),I=function(n){var e=n.id,t=n.html_url,r=n.description,a=n.stargazers_count,c=n.full_name,i=n.language,s=n.updated_at,o=u.a.useContext(_).toggleStar;return Object(x.jsxs)("div",{className:z(),children:[Object(x.jsxs)("div",{className:"repo-left",children:[Object(x.jsxs)("div",{className:"repo-star",onClick:function(){return o(e)},children:[Object(x.jsx)("div",{className:"repo-star-number",children:a}),Object(x.jsx)("span",{children:a>1?"stars":"star"})]}),Object(x.jsxs)("div",{className:"repo-main",children:[Object(x.jsx)("a",{href:t,children:c}),Object(x.jsx)("div",{children:r}),Object(x.jsxs)("small",{children:["Updated at: ",S()(s).format("DD MMM YYYY")]})]})]}),Object(x.jsx)("div",{className:"repo-outro",children:Object(x.jsx)("div",{children:i})})]})},z=function(){return Object(f.a)(i||(i=Object(j.a)(["\n  label: repository-card;\n  display: flex;\n  border-radius: 5px;\n  border: 1px solid rgb(232, 232, 232);\n  padding: 6px;\n  margin: 15px 0;\n  flex: 1;\n  justify-content: space-between;\n  text-align: left;\n  font-size: 13px;\n  .repo-left {\n    display: flex;\n    flex-basis: 90%;\n  }\n  .repo-outro {\n    flex-basis: 10%;\n  }\n  .repo-star {\n    justify-content: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 10%;\n    .repo-star-number {\n      font-size: 22px;\n    }\n    &:hover {\n      cursor: pointer;\n      color: #388bfd;\n    }\n  }\n  .repo-main {\n    padding-left: 8px;\n    max-width: 86%;\n    max-height: 51px;\n    overflow: hidden;\n  }\n"])))},A=function(n){var e=n.items;return Object(x.jsx)("div",{className:D(),children:e.map((function(n,e){return Object(x.jsx)(I,Object(P.a)({},n),e)}))})},D=function(){return Object(f.a)(s||(s=Object(j.a)(["\n  label: repository-list;\n"])))},T=function(n){var e=u.a.useState(""),t=Object(y.a)(e,2),r=t[0],a=t[1];return Object(x.jsx)("div",{className:B(),children:Object(x.jsx)("div",{className:"wrap",children:Object(x.jsxs)("div",{className:"search",children:[Object(x.jsx)("input",{type:"text",className:"search-term",placeholder:"Search ...",onKeyDown:function(e){"Enter"===e.key&&n.onSearch(r)},onChange:function(n){return a(n.target.value)}}),Object(x.jsx)("button",{type:"submit",className:"searchButton",onClick:function(){return n.onSearch(r)},children:Object(x.jsx)("i",{className:"fa fa-search"})})]})})})},B=function(){return Object(f.a)(o||(o=Object(j.a)(["\n  label: search-input;\n\n  .search {\n    width: 100%;\n    display: flex;\n  }\n\n  .search-term {\n    width: 100%;\n    border: 3px solid #388bfd;\n    border-right: none;\n    padding: 5px;\n    height: 20px;\n    border-radius: 5px 0 0 5px;\n    outline: none;\n    &:focus {\n      color: #388bfd;\n    }\n  }\n\n  .searchButton {\n    width: 40px;\n    height: 36px;\n    border: 1px solid #388bfd;\n    background: #388bfd;\n    text-align: center;\n    color: #fff;\n    border-radius: 0 5px 5px 0;\n    cursor: pointer;\n    font-size: 20px;\n  }\n"])))},E=function(){var n=u.a.useState([]),e=Object(y.a)(n,2),t=e[0],r=e[1],a=u.a.useRef(1),c=u.a.useRef(1),i=u.a.useRef(""),s=u.a.useRef(!1),o=u.a.useCallback(function(){var n=Object(v.a)(O.a.mark((function n(e,t,c){var i,s,o,l;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=S()().add(-1,"w").format("YYYY-MM-DD"),n.next=3,C(i,e,t,c);case 3:s=n.sent;try{o=s.items,l=s.total_count,a.current=Math.min(Math.floor(l/30),10),r(o)}catch(d){console.warn("error")}case 5:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),[]);u.a.useEffect((function(){a.current=10,s.current||o(1),s.current=!0}),[]);var l=Object(d.useCallback)((function(n){var e=t.findIndex((function(e){return e.id===n}));-1!==e&&(t[e].rated?(t[e].stargazers_count-=1,t[e].rated=!1):(t[e].stargazers_count+=1,t[e].rated=!0)),r((function(n){return Object(h.a)(n)})),w(t)}),[t]);return Object(x.jsxs)("div",{className:V(),children:[Object(x.jsx)("div",{className:"header",children:Object(x.jsx)("h1",{children:"Git-Trending"})}),Object(x.jsxs)(_.Provider,{value:{repoResults:t,toggleStar:l},children:[Object(x.jsx)(T,{onSearch:function(n){o(c.current,i.current,n)}}),Object(x.jsx)(M,{onFilterStaredRepo:function(){var n=t.filter((function(n){return n.rated}));r(n)},onFilterLanguage:function(n){i.current=n,o(c.current,n)},onShowAll:function(){r(F())},onClearCache:function(){localStorage.clear(),o(1)}}),s.current&&!(null===t||void 0===t?void 0:t.length)?Object(x.jsx)("div",{children:"Oops! No result found"}):Object(x.jsx)(A,{items:t}),Object(x.jsx)(J,{totalPages:a.current,onPageChanged:function(n){c.current=n,o(n,i.current)}})]})]})},G=u.a.memo(E),V=function(){return Object(f.a)(l||(l=Object(j.a)(["\n  label: home-page;\n  max-width: 780px;\n  margin: auto;\n"])))};var q=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(G,{}),Object(x.jsx)(g,{})]})},H=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,24)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),r(n),a(n),c(n),i(n)}))};p.a.render(Object(x.jsx)(u.a.StrictMode,{children:Object(x.jsx)(q,{})}),document.getElementById("root")),H()}},[[23,1,2]]]);
//# sourceMappingURL=main.e0064b04.chunk.js.map