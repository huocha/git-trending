(this["webpackJsonpgit-trending"]=this["webpackJsonpgit-trending"]||[]).push([[0],{18:function(n,e,t){},19:function(n,e,t){},23:function(n,e,t){"use strict";t.r(e);var a,r,c,i,s,o,l,d=t(1),u=t.n(d),j=t(10),p=t.n(j),b=(t(18),t(19),t(2)),f=t(3),g=t(0),x=function(){return Object(g.jsxs)("footer",{className:Object(f.a)(a||(a=Object(b.a)(["\n    label: footer-wrapper;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 20px 0;\n    img {\n      width: 30px;\n      height: 30px;\n      border-radius: 15px;\n      padding-bottom: 8px;\n    }\n    a {\n      text-decoration: none;\n      padding-left: 4px;\n      color: #a38e80;\n    }\n  "]))),children:[Object(g.jsx)("img",{src:"https://media0.giphy.com/media/mVJ5xyiYkC3Vm/giphy.gif?cid=790b7611ad2812b1ccf7f99cf2e9764d8ac87928c092140a&rid=giphy.gif"}),Object(g.jsxs)("small",{children:["\xa9 2021 by",Object(g.jsx)("a",{href:"https://huocha.github.io/git-trending/",children:"JASMINE NG "})]})]})},h=t(9),m=t.n(h),O=t(11),v=t(4),y=t(7),N=t.n(y),S=function(n,e,t,a){var r="q=created:>".concat(n);t&&(r+="+language:".concat(t.toLowerCase())),a&&(r+=a);var c="https://api.github.com/search/repositories?".concat(r,"&sort=stars&order=desc&page=").concat(e);return new Promise((function(n,e){fetch(c).then((function(n){return n.json()})).then((function(e){n(e),k(null===e||void 0===e?void 0:e.items),w(null===e||void 0===e?void 0:e.total_count)})).catch((function(n){e(n)}))}))},w=function(n){localStorage.setItem("totalPages",String(n))},k=function(n){localStorage.setItem("repositories",JSON.stringify(n))},C=function(){var n,e=null!==(n=localStorage.getItem("repositories"))&&void 0!==n?n:"[]";return JSON.parse(e)},F=function(n){var e=u.a.useState(),t=Object(v.a)(e,2),a=t[0],r=t[1];return Object(g.jsxs)("div",{className:J(),children:[Object(g.jsx)("div",{children:Object(g.jsx)("small",{children:"Languages: "})}),Object(g.jsxs)("div",{className:"languages-list",children:[Object(g.jsx)("div",{className:"language-item ".concat(!a&&"selected"),onClick:function(){n.onFilterLanguage(""),r(void 0)},children:"Any"}),M.map((function(e,t){return Object(g.jsx)("div",{className:"language-item ".concat(a===e?"selected":""," "),onClick:function(){n.onFilterLanguage(e),r(e)},children:e},t)}))]})]})},J=function(){return Object(f.a)(r||(r=Object(b.a)(["\n  label: filter-group;\n  display: flex;\n  padding-top: 12px;\n  .languages-list {\n    padding-left: 4px;\n    display: flex;\n    .language-item {\n      padding: 2px 8px;\n      &: hover {\n        cursor: pointer;\n        background: rgba(27, 31, 35, 0.05);\n      }\n    }\n    .selected {\n      background: rgba(27, 31, 35, 0.08);\n    }\n  }\n"])))},M=["JavaScript","Ruby","HTML","CSS","Typescript","Java"],P=t(12),Y=function(n){var e=n.totalPages,t=u.a.useState(1),a=Object(v.a)(t,2),r=a[0],c=a[1],i=Object(P.a)(Array(e).keys()).map((function(n){return n+1})),s=function(e){return Object(g.jsx)("div",{className:"page-item ".concat(r===e?"selected":""),onClick:function(){c(e),n.onPageChanged(e)},children:e},e)};return Object(g.jsx)("div",{className:L(),children:function(){if(e<=5)return Object(g.jsx)(g.Fragment,{children:i.map(s)});var n=i.slice(0,3),t=i.slice(e-3,e-1);return Object(g.jsxs)(g.Fragment,{children:[n.map(s),Object(g.jsx)("div",{className:"page-item",children:"..."}),t.map(s)]})}()})},L=function(){return Object(f.a)(c||(c=Object(b.a)(["\n  label: pagination-card;\n  display: flex;\n  justify-content: center;\n  padding-bottom: 15px;\n  .selected {\n    background: rgba(27, 31, 35, 0.08);\n  }\n  .page-item {\n    padding: 0 5px;\n    &:hover {\n      cursor: pointer;\n      background: rgba(27, 31, 35, 0.05);\n    }\n  }\n"])))},_=t(13),I=function(n){var e=n.id,t=n.html_url,a=n.description,r=n.stargazers_count,c=n.full_name,i=n.language,s=n.updated_at,o=n.rated,l=u.a.useState(o?1:0),d=Object(v.a)(l,2),j=d[0],p=d[1];return Object(g.jsxs)("div",{className:z(),children:[Object(g.jsxs)("div",{className:"repo-left",children:[Object(g.jsxs)("div",{className:"repo-star",onClick:function(){!function(n){var e=C(),t=e.find((function(e){return e.id===n}));t&&(t.rated?(t.stargazers_count-=1,t.rated=!1):(t.stargazers_count+=1,t.rated=!0)),k(e)}(e),p(j?0:1)},children:[Object(g.jsx)("div",{className:"repo-star-number",children:r+j}),Object(g.jsx)("span",{children:r+j>1?"stars":"star"})]}),Object(g.jsxs)("div",{className:"repo-main",children:[Object(g.jsx)("a",{href:t,children:c}),Object(g.jsx)("div",{children:a}),Object(g.jsxs)("small",{children:["Updated at: ",N()(s).format("DD MMM YYYY")]})]})]}),Object(g.jsx)("div",{className:"repo-outro",children:Object(g.jsx)("div",{children:i})})]})},z=function(){return Object(f.a)(i||(i=Object(b.a)(["\n  label: repository-card;\n  display: flex;\n  border-radius: 5px;\n  border: 1px solid rgb(232, 232, 232);\n  padding: 6px;\n  margin: 15px 0;\n  flex: 1;\n  justify-content: space-between;\n  text-align: left;\n  font-size: 13px;\n  .repo-left {\n    display: flex;\n    flex-basis: 90%;\n  }\n  .repo-outro {\n    flex-basis: 10%;\n  }\n  .repo-star {\n    justify-content: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 10%;\n    .repo-star-number {\n      font-size: 22px;\n    }\n    &:hover {\n      cursor: pointer;\n      color: #388bfd;\n    }\n  }\n  .repo-main {\n    padding-left: 8px;\n    max-width: 86%;\n    max-height: 51px;\n    overflow: hidden;\n  }\n"])))},D=function(n){var e=n.items;return Object(g.jsx)("div",{className:T(),children:e.map((function(n,e){return Object(g.jsx)(I,Object(_.a)({},n),e)}))})},T=function(){return Object(f.a)(s||(s=Object(b.a)(["\n  label: repository-list;\n"])))},A=function(n){var e=u.a.useState(""),t=Object(v.a)(e,2),a=t[0],r=t[1];return Object(g.jsx)("div",{className:B(),children:Object(g.jsx)("div",{className:"wrap",children:Object(g.jsxs)("div",{className:"search",children:[Object(g.jsx)("input",{type:"text",className:"search-term",placeholder:"Search ...",onChange:function(n){return r(n.target.value)}}),Object(g.jsx)("button",{type:"submit",className:"searchButton",onClick:function(){return n.onSearch(a)},children:Object(g.jsx)("i",{className:"fa fa-search"})})]})})})},B=function(){return Object(f.a)(o||(o=Object(b.a)(["\n  label: search-input;\n\n  .search {\n    width: 100%;\n    display: flex;\n  }\n\n  .search-term {\n    width: 100%;\n    border: 3px solid #388bfd;\n    border-right: none;\n    padding: 5px;\n    height: 20px;\n    border-radius: 5px 0 0 5px;\n    outline: none;\n    &:focus {\n      color: #388bfd;\n    }\n  }\n\n  .searchButton {\n    width: 40px;\n    height: 36px;\n    border: 1px solid #388bfd;\n    background: #388bfd;\n    text-align: center;\n    color: #fff;\n    border-radius: 0 5px 5px 0;\n    cursor: pointer;\n    font-size: 20px;\n  }\n"])))},E=function(){var n=u.a.useState([]),e=Object(v.a)(n,2),t=e[0],a=e[1],r=u.a.useState(1),c=Object(v.a)(r,2),i=c[0],s=c[1],o=u.a.useState(1),l=Object(v.a)(o,2),d=l[0],j=l[1],p=u.a.useState(""),b=Object(v.a)(p,2),f=b[0],x=b[1],h=function(){var n=Object(O.a)(m.a.mark((function n(e,t,r){var c,i,o,l;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=N()().add(-1,"w").format("YYYY-MM-DD"),n.next=3,S(c,e,t,r);case 3:i=n.sent,o=i.items,l=i.total_count,s(Math.floor(l/30)),a(o);case 7:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}();return u.a.useEffect((function(){var n=C();(null===n||void 0===n?void 0:n.length)?(a(n),s(function(){var n,e=null!==(n=localStorage.getItem("totalPages"))&&void 0!==n?n:"";return JSON.parse(e)}())):h(1)}),[]),Object(g.jsxs)("div",{className:G(),children:[Object(g.jsx)("div",{className:"header",children:Object(g.jsx)("h1",{children:"Git-Trending"})}),Object(g.jsx)(A,{onSearch:function(n){h(d,f,n)}}),Object(g.jsx)(F,{onFilterLanguage:function(n){x(n),h(d,n)}}),Object(g.jsx)(D,{items:t}),Object(g.jsx)(Y,{totalPages:i,onPageChanged:function(n){j(n),h(n,f)}})]})},G=function(){return Object(f.a)(l||(l=Object(b.a)(["\n  label: home-page;\n  max-width: 780px;\n  margin: auto;\n"])))};var V=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(E,{}),Object(g.jsx)(x,{})]})},q=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,24)).then((function(e){var t=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),a(n),r(n),c(n),i(n)}))};p.a.render(Object(g.jsx)(u.a.StrictMode,{children:Object(g.jsx)(V,{})}),document.getElementById("root")),q()}},[[23,1,2]]]);
//# sourceMappingURL=main.2a90f893.chunk.js.map