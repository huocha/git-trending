{"version":3,"sources":["components/footer/footer.component.tsx","actions/index.ts","components/filter_group/filter_group.component.tsx","components/pagination/pagination.component.tsx","components/repository_card/repository_card.component.tsx","components/repository_list/repository_list.component.tsx","components/search_input/search_input.component.tsx","views/home_page/home_page.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["FooterComponent","className","css","src","href","fetchRepositories","fromDate","currentPage","lang","searchQuery","query","toLowerCase","url","Promise","resolve","reject","fetch","then","res","json","result","setRepositories","items","setTotalPages","total_count","catch","error","totalPages","localStorage","setItem","String","repositories","JSON","stringify","getRepositories","results","getItem","parse","FilterGroup","props","React","useState","selectedLang","setSelectedLang","filterGroupStyle","onClick","onFilterLanguage","undefined","LANGUAGES","map","index","onFilterStaredRepo","Pagination","setCurrentPage","pageKeys","Array","keys","i","renderPageItem","item","onPageChanged","PaginationStyle","RepositoryCard","id","html_url","description","stargazers_count","full_name","language","updated_at","rated","star","setStar","repositoryCardStyle","repositoryList","selectedRepository","find","toggleStar","moment","format","RepositoryList","repositoryListStyle","SearchInput","searchValue","setSearchValue","searchInputStyle","type","placeholder","onKeyDown","event","key","onSearch","onChange","e","target","value","HomePage","repoResults","setResults","useRef","currentLang","didMount","fetchData","useCallback","page","a","add","current","Math","min","floor","console","warn","useEffect","cachedResults","length","homePageStyle","staredRepos","filter","memo","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.621920d0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { css } from \"@emotion/css\";\r\nconst footerComponentStyle = () =>\r\n  css`\r\n    label: footer-wrapper;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 20px 0;\r\n    img {\r\n      width: 30px;\r\n      height: 30px;\r\n      border-radius: 15px;\r\n      padding-bottom: 8px;\r\n    }\r\n    a {\r\n      text-decoration: none;\r\n      padding-left: 4px;\r\n      color: #a38e80;\r\n    }\r\n  `;\r\nexport const FooterComponent = () => {\r\n  return (\r\n    <footer className={footerComponentStyle()}>\r\n      <img src=\"https://media0.giphy.com/media/mVJ5xyiYkC3Vm/giphy.gif?cid=790b7611ad2812b1ccf7f99cf2e9764d8ac87928c092140a&rid=giphy.gif\" />\r\n      <small>\r\n        Â© 2021 by\r\n        <a href=\"https://huocha.github.io/git-trending/\">JASMINE NG </a>\r\n      </small>\r\n    </footer>\r\n  );\r\n};\r\n","import { RepositoryCardProps } from \"../components/repository_card/repository_card.interface\";\r\n\r\nexport const fetchRepositories = (\r\n  fromDate: string,\r\n  currentPage: number,\r\n  lang?: string,\r\n  searchQuery?: string\r\n): Promise<{ total_count: number; items: RepositoryCardProps[] }> => {\r\n  let query = `q=created:>${fromDate}`;\r\n  if (lang) {\r\n    query += `+language:${lang.toLowerCase()}`;\r\n  }\r\n  if (searchQuery) {\r\n    query += searchQuery;\r\n  }\r\n  const url = `https://api.github.com/search/repositories?${query}&sort=stars&order=desc&page=${currentPage}`;\r\n\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        resolve(result);\r\n        setRepositories(result?.items);\r\n        setTotalPages(result?.total_count);\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n};\r\n\r\nexport const setTotalPages = (totalPages: number): void => {\r\n  localStorage.setItem(\"totalPages\", String(totalPages));\r\n};\r\n\r\nexport const getTotalPages = (): number => {\r\n  const pages = localStorage.getItem(\"totalPages\") ?? \"\";\r\n  return JSON.parse(pages);\r\n};\r\n\r\nexport const setRepositories = (repositories: RepositoryCardProps[]): void => {\r\n  if (repositories) {\r\n    localStorage.setItem(\"repositories\", JSON.stringify(repositories));\r\n  }\r\n};\r\n\r\nexport const getRepositories = (): RepositoryCardProps[] => {\r\n  const results = localStorage.getItem(\"repositories\") ?? \"[]\";\r\n  return JSON.parse(results);\r\n};\r\n\r\nexport const toggleStar = (id: string): void => {\r\n  const repositoryList = getRepositories();\r\n  const selectedRepository = repositoryList.find((item) => item.id === id);\r\n  if (selectedRepository) {\r\n    if (selectedRepository.rated) {\r\n      selectedRepository.stargazers_count -= 1;\r\n      selectedRepository.rated = false;\r\n    } else {\r\n      selectedRepository.stargazers_count += 1;\r\n      selectedRepository.rated = true;\r\n    }\r\n  }\r\n\r\n  setRepositories(repositoryList);\r\n};\r\n","import React from \"react\";\r\nimport { css } from \"@emotion/css\";\r\nimport { FilterGroupProps } from \"./filter_group.interface\";\r\n\r\nconst FilterGroup = (props: FilterGroupProps) => {\r\n  const [selectedLang, setSelectedLang] = React.useState<string>();\r\n\r\n  const renderLanguageOptions = () => {\r\n    return (\r\n      <div className=\"languages-list\">\r\n        <div\r\n          className={`language-item ${!selectedLang && \"selected\"}`}\r\n          onClick={() => {\r\n            props.onFilterLanguage(\"\");\r\n            setSelectedLang(undefined);\r\n          }}\r\n        >\r\n          Any\r\n        </div>\r\n        {LANGUAGES.map((lang, index) => {\r\n          return (\r\n            <div\r\n              className={`language-item ${\r\n                selectedLang === lang ? \"selected\" : \"\"\r\n              } `}\r\n              key={index}\r\n              onClick={() => {\r\n                props.onFilterLanguage(lang);\r\n                setSelectedLang(lang);\r\n              }}\r\n            >\r\n              {lang}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={filterGroupStyle()}>\r\n      <div className=\"section\">\r\n        <small>Languages: </small>\r\n        {renderLanguageOptions()}\r\n      </div>\r\n      <div className=\"section end\">\r\n        <button\r\n          className=\"star-button\"\r\n          onClick={() => props.onFilterStaredRepo()}\r\n        >\r\n          <i className=\"fa fa-star\"></i>\r\n          Stared repo\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterGroup;\r\n\r\nconst filterGroupStyle = () => css`\r\n  label: filter-group;\r\n  display: flex;\r\n  padding-top: 12px;\r\n  flex-direction: column;\r\n  .languages-list {\r\n    padding-left: 4px;\r\n    display: flex;\r\n    .language-item {\r\n      padding: 2px 8px;\r\n      &: hover {\r\n        cursor: pointer;\r\n        background: rgba(27, 31, 35, 0.05);\r\n      }\r\n    }\r\n    .selected {\r\n      background: rgba(27, 31, 35, 0.08);\r\n    }\r\n  }\r\n  .section {\r\n    padding-top: 5px;\r\n    display: flex;\r\n  }\r\n  .end {\r\n    justify-content: flex-end;\r\n  }\r\n  .star-button {\r\n    background: #388bfd;\r\n    text-align: center;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    border: 0;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nconst LANGUAGES = [\"JavaScript\", \"Ruby\", \"HTML\", \"CSS\", \"Typescript\", \"Java\"];\r\n","import { css } from \"@emotion/css\";\r\nimport React from \"react\";\r\nimport { PaginationProps } from \"./pagination.interface\";\r\n\r\nconst Pagination = (props: PaginationProps) => {\r\n  const [currentPage, setCurrentPage] = React.useState(1);\r\n\r\n  const pageKeys = [...Array(10).keys()].map((i) => i + 1);\r\n\r\n  const renderPageItem = (item: number) => {\r\n    return (\r\n      <div\r\n        key={item}\r\n        className={`page-item ${currentPage === item ? \"selected\" : \"\"}`}\r\n        onClick={() => {\r\n          setCurrentPage(item);\r\n          props.onPageChanged(item);\r\n        }}\r\n      >\r\n        {item}\r\n      </div>\r\n    );\r\n  };\r\n  const renderPagination = () => {\r\n    return <>{pageKeys.map(renderPageItem)}</>;\r\n  };\r\n  return <div className={PaginationStyle()}>{renderPagination()}</div>;\r\n};\r\n\r\nexport default Pagination;\r\n\r\nconst PaginationStyle = () => css`\r\n  label: pagination-card;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-bottom: 15px;\r\n  .selected {\r\n    background: rgba(27, 31, 35, 0.08);\r\n  }\r\n  .page-item {\r\n    padding: 0 5px;\r\n    &:hover {\r\n      cursor: pointer;\r\n      background: rgba(27, 31, 35, 0.05);\r\n    }\r\n  }\r\n`;\r\n","import { css } from \"@emotion/css\";\r\nimport moment from \"moment\";\r\nimport React from \"react\";\r\nimport { toggleStar } from \"../../actions\";\r\nimport { RepositoryCardProps } from \"./repository_card.interface\";\r\n\r\nconst RepositoryCard = (props: RepositoryCardProps) => {\r\n  const {\r\n    id,\r\n    html_url,\r\n    description,\r\n    stargazers_count,\r\n    full_name,\r\n    language,\r\n    updated_at,\r\n    rated,\r\n  } = props;\r\n  const [star, setStar] = React.useState(rated ? 1 : 0);\r\n\r\n  const onStarClick = () => {\r\n    toggleStar(id);\r\n    setStar(star ? 0 : 1);\r\n  };\r\n\r\n  return (\r\n    <div className={repositoryCardStyle()}>\r\n      <div className=\"repo-left\">\r\n        <div className=\"repo-star\" onClick={onStarClick}>\r\n          <div className=\"repo-star-number\">{stargazers_count + star}</div>\r\n          <span>{stargazers_count + star > 1 ? \"stars\" : \"star\"}</span>\r\n        </div>\r\n        <div className=\"repo-main\">\r\n          <a href={html_url}>{full_name}</a>\r\n          <div>{description}</div>\r\n          <small>Updated at: {moment(updated_at).format(\"DD MMM YYYY\")}</small>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"repo-outro\">\r\n        <div>{language}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RepositoryCard;\r\n\r\nconst repositoryCardStyle = () => css`\r\n  label: repository-card;\r\n  display: flex;\r\n  border-radius: 5px;\r\n  border: 1px solid rgb(232, 232, 232);\r\n  padding: 6px;\r\n  margin: 15px 0;\r\n  flex: 1;\r\n  justify-content: space-between;\r\n  text-align: left;\r\n  font-size: 13px;\r\n  .repo-left {\r\n    display: flex;\r\n    flex-basis: 90%;\r\n  }\r\n  .repo-outro {\r\n    flex-basis: 10%;\r\n  }\r\n  .repo-star {\r\n    justify-content: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 10%;\r\n    .repo-star-number {\r\n      font-size: 22px;\r\n    }\r\n    &:hover {\r\n      cursor: pointer;\r\n      color: #388bfd;\r\n    }\r\n  }\r\n  .repo-main {\r\n    padding-left: 8px;\r\n    max-width: 86%;\r\n    max-height: 51px;\r\n    overflow: hidden;\r\n  }\r\n`;\r\n","import { css } from \"@emotion/css\";\r\nimport React from \"react\";\r\nimport RepositoryCard from \"../repository_card/repository_card.component\";\r\nimport { RepositoryListProps } from \"./repository_list.interface\";\r\n\r\nconst RepositoryList = (props: RepositoryListProps) => {\r\n  const { items } = props;\r\n\r\n  return (\r\n    <div className={repositoryListStyle()}>\r\n      {items.map((item, index) => (\r\n        <RepositoryCard key={index} {...item} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RepositoryList;\r\n\r\nconst repositoryListStyle = () => css`\r\n  label: repository-list;\r\n`;\r\n","import { css } from \"@emotion/css\";\r\nimport React from \"react\";\r\nimport { SearchInputProps } from \"./search_input.interface\";\r\n\r\nconst SearchInput = (props: SearchInputProps) => {\r\n  const [searchValue, setSearchValue] = React.useState<string>(\"\");\r\n\r\n  return (\r\n    <div className={searchInputStyle()}>\r\n      <div className=\"wrap\">\r\n        <div className=\"search\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"search-term\"\r\n            placeholder=\"Search ...\"\r\n            onKeyDown={(event) => {\r\n              if (event.key === \"Enter\") {\r\n                props.onSearch(searchValue);\r\n              }\r\n            }}\r\n            onChange={(e) => setSearchValue(e.target.value)}\r\n          ></input>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"searchButton\"\r\n            onClick={() => props.onSearch(searchValue)}\r\n          >\r\n            <i className=\"fa fa-search\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchInput;\r\n\r\nconst searchInputStyle = () => css`\r\n  label: search-input;\r\n\r\n  .search {\r\n    width: 100%;\r\n    display: flex;\r\n  }\r\n\r\n  .search-term {\r\n    width: 100%;\r\n    border: 3px solid #388bfd;\r\n    border-right: none;\r\n    padding: 5px;\r\n    height: 20px;\r\n    border-radius: 5px 0 0 5px;\r\n    outline: none;\r\n    &:focus {\r\n      color: #388bfd;\r\n    }\r\n  }\r\n\r\n  .searchButton {\r\n    width: 40px;\r\n    height: 36px;\r\n    border: 1px solid #388bfd;\r\n    background: #388bfd;\r\n    text-align: center;\r\n    color: #fff;\r\n    border-radius: 0 5px 5px 0;\r\n    cursor: pointer;\r\n    font-size: 20px;\r\n  }\r\n`;\r\n","import { css } from \"@emotion/css\";\r\nimport moment from \"moment\"; // date-fns\r\nimport React from \"react\";\r\nimport { fetchRepositories, getRepositories } from \"../../actions\";\r\nimport FilterGroup from \"../../components/filter_group/filter_group.component\";\r\nimport Pagination from \"../../components/pagination/pagination.component\";\r\nimport { RepositoryCardProps } from \"../../components/repository_card/repository_card.interface\";\r\nimport RepositoryList from \"../../components/repository_list/repository_list.component\";\r\nimport SearchInput from \"../../components/search_input/search_input.component\";\r\n\r\nconst HomePage = () => {\r\n  const [repoResults, setResults] = React.useState<RepositoryCardProps[]>([]);\r\n  const totalPages = React.useRef<number>(1);\r\n  const currentPage = React.useRef<number>(1);\r\n  const currentLang = React.useRef<string>(\"\");\r\n  const didMount = React.useRef<boolean>(false);\r\n\r\n  const fetchData = React.useCallback(\r\n    async (page: number, lang?: string, searchQuery?: string) => {\r\n      const fromDate = moment().add(-1, \"w\").format(\"YYYY-MM-DD\");\r\n      const result = await fetchRepositories(fromDate, page, lang, searchQuery);\r\n      try {\r\n        const { items, total_count } = result;\r\n        totalPages.current = Math.min(Math.floor(total_count / 30), 10);\r\n        setResults(items);\r\n      } catch {\r\n        console.warn(\"error\");\r\n      }\r\n    },\r\n    [repoResults]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    totalPages.current = 10;\r\n    const cachedResults = getRepositories();\r\n    if (cachedResults?.length) {\r\n      setResults(cachedResults);\r\n    } else {\r\n      fetchData(1);\r\n    }\r\n    didMount.current = true;\r\n  }, []);\r\n\r\n  const renderMainResult = () => {\r\n    if (didMount.current && !repoResults?.length) {\r\n      return <div>Oops! No result found</div>;\r\n    } else {\r\n      return <RepositoryList items={repoResults} />;\r\n    }\r\n  };\r\n  return (\r\n    <div className={homePageStyle()}>\r\n      <div className=\"header\">\r\n        <h1>Git-Trending</h1>\r\n      </div>\r\n      <SearchInput\r\n        onSearch={(value) => {\r\n          fetchData(currentPage.current, currentLang.current, value);\r\n        }}\r\n      />\r\n      <FilterGroup\r\n        onFilterStaredRepo={() => {\r\n          const mostRecentResults = getRepositories();\r\n          const staredRepos = mostRecentResults.filter(\r\n            (result) => result.rated\r\n          );\r\n          setResults(staredRepos);\r\n        }}\r\n        onFilterLanguage={(lang) => {\r\n          currentLang.current = lang;\r\n          fetchData(currentPage.current, lang);\r\n        }}\r\n      />\r\n      {renderMainResult()}\r\n      <Pagination\r\n        totalPages={totalPages.current}\r\n        onPageChanged={(page) => {\r\n          currentPage.current = page;\r\n          fetchData(page, currentLang.current);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(HomePage);\r\n\r\nconst homePageStyle = () => css`\r\n  label: home-page;\r\n  max-width: 780px;\r\n  margin: auto;\r\n`;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { FooterComponent } from \"./components/footer/footer.component\";\nimport HomePage from \"./views/home_page/home_page\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HomePage />\n      <FooterComponent />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}